<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
        //变量提升 (即“预处理”)
        /* 
            JS 引擎在代码正式执行之前会做一个预处理的工作：
                1. 收集变量
                2. 收集函数
            依据：
                var（只提升定义不提升初始化）
                    - 将var后边的变量定义但是不赋值，var username = undefined
                function(){} （即提升定义，也提升函数体）
                    - 提前定义好该函数，可以正常执行
         */
        console.log(username); // undefined
        var username = 'fear your LORD';
        console.log(username); // ‘fear your LORD’

        fun();
        function fun(){
            console.log('fun()'); //'fun()'
        }

        //执行上下文
        /* 执行上下文（execute context） CE
         * 理解：代码执行的环境
         * 时机：代码正式执行之前会进入到执行环境
         * 工作：
         *  1. 创建变量对象（即“变量提升”）
         *      1）变量
         *      2）函数及函数的参数
         *      3) 全局：window
         *      4) 局部：抽象的但是确实存在
         *  2. 确认this的指向
         *      1）全局: this --> window
         *      2) 局部：this --> 调用其的对象（window/某个函数对象...）
         *  3. 创建作用域链
         *      父级作用域链 + 当前的变量对象
         *  4. 扩展：
         *      ECObj = {
         *          变量对象：{变量，函数，函数的形参}，
         *          scopeChain: 父级作用域链 + 当前的变量对象，
         *          this: {window / 调用其对象}
         *          }
         */

    </script>
</body>

</html>